# 发布订阅

如果应用程序有配置，则程序本身需要暴露 `/dapr/subscribe` 接口，供边车获取程序所监听的主题。

> `Visual Studio DockerCompose`容器开发中，容器边车需要重新启动才会重新读取，并监听新的主题。

## 同消费者组非竞争模式

[Allow PubSub to opt-out from competing consumer pattern to send events to every instance · Issue #3176 · dapr/dapr](https://github.com/dapr/dapr/issues/3176)
[PubSub: notify all instances of an application (rather than \"competing consumers\") · Issue #3332 · dapr/dapr](https://github.com/dapr/dapr/issues/3332)

当前解决方案是，定义一个不同行为的`component`，其中提供`consumerID`为`{uuid}`，这样经过该`component`的所有创建及消费主题将会变成指定模式。

## 批量推送

`Dapr`提供的批量推送，在消息队列入队时是自动将消息拆分成了单个，比如一次推送1000条一个包，那么入消息队列的消息是1000条消息，保持了队列的数据结构一致性。