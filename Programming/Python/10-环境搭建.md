# 环境搭建

## pip

python的包是全局的，所以两个项目用不同版本的包或包之间有版本依赖则会产生冲突。

配置下载源

pip config set global.index-url <https://pypi.tuna.tsinghua.edu.cn/simple>

pip config set global.trusted-host pypi.tuna.tsinghua.edu.cn或ip地址

还原回默认源

pip config unset global.index-url

临时

pip install django -i <http://pypi.douban.com/simple>

导出所有包

pip freeze \> requirements.txt

删除所有包

pip uninstall -r requirements.txt -y

升/降级包

pip install --upgrade 包名==版本

指定python的pip

python3 -m pip list等

pip -V 查看当前pip版本以及指向的python版本

当python3的pip占用了python2的pip，python2的pip找不到了，可以去<https://bootstrap.pypa.io/pip/2.7/get-pip.py>

下载get-pip.py，然后使用python2 get-pip.py 进行安装。

最后使用alias pip2=/usr/bin/pip2.7之类的方式调整pip。

### requirements.txt

<https://pip.pypa.io/en/stable/reference/requirements-file-format/>

直接写包名，不限版本的意思

版本指示符是

<https://pip.pypa.io/en/stable/reference/requirement-specifiers/>

## VSCode

### 配置

#### 繁琐的语法检查，提示降级

![Graphical user interface, application Description automatically generated](../attachments/d3fac08463eed388fe1d5adc88956100.png)

#### 当前python文件输出编码

\# import sys

\# import io

\# sys.stdout=io.TextIOWrapper(sys.stdout.buffer,encoding='utf8')

#### 修改系统环境变量

PYTHONIOENCODING=UTF8

`setenv.bat`临时设置的这种环境变量，会识别空格，所以不要在结尾多加了空格。

```py
export PYTHONUTF8=1  # linux / macOS
set PYTHONUTF8=1  # windows
```

## Python2转Python3的坑

### map变化

Python 2.x 返回列表。

Python 3.x 返回迭代器。需要使用list(map())转换为列表 